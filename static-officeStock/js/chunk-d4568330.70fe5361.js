(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4568330","chunk-16944950","chunk-a681bab2","chunk-8182500a","chunk-32ec804c","chunk-2d216b64"],{"034a":function(t,e,a){"use strict";var i=a("2321"),l=a.n(i);l.a},1980:function(t,e,a){},2321:function(t,e,a){},"3a21":function(t,e,a){"use strict";var i=a("1980"),l=a.n(i);l.a},"55d2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入申请单号搜索"},model:{value:t.queryParams.keyWord,callback:function(e){t.$set(t.queryParams,"keyWord",e)},expression:"queryParams.keyWord"}}),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:t.search},slot:"append"},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-delete",size:"mini"},on:{click:t.clear},slot:"append"},[t._v("清空")])],1),t._v(" "),a("a",{on:{click:t.conditionsOn}},[t._v(t._s(t.showCondition))]),t._v(" "),a("el-divider"),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCondition,expression:"isShowCondition"}],staticClass:"conditions"},[a("div",[a("span",[t._v("申请日期")]),t._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择开始日期"},model:{value:t.queryParams.startTime,callback:function(e){t.$set(t.queryParams,"startTime",e)},expression:"queryParams.startTime"}}),t._v(" "),a("span",[t._v("至")]),t._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:t.queryParams.endTime,callback:function(e){t.$set(t.queryParams,"endTime",e)},expression:"queryParams.endTime"}})],1),t._v(" "),a("el-divider")],1)]),t._v(" "),a("div",{staticClass:"optionButtons"},t._l(t.buttons,function(e,i){return a("el-button",{key:i,attrs:{disabled:t.setStatus(e.btnScope),type:"danger",plain:"",size:"mini"},on:{click:function(a){return t.option(e.code)}}},[t._v(t._s(e.name))])}),1)],1),t._v(" "),a("div",{staticClass:"bottom"},[a("span",[t._v("全部结果")]),t._v("  \n    "),a("span",[t._v("共"+t._s(t.allItem)+"个结果")]),t._v(" "),a("my-table",{ref:"myTable",attrs:{queryParams:t.queryParams},on:{transferSelectItem:t.transferSelectItem}})],1),t._v(" "),a("add-or-modify",{ref:"addOrModify",on:{getTableList:t.getTableList}}),t._v(" "),a("report-back-controller",{ref:"reportBackController"}),t._v(" "),a("detail",{ref:"detail"})],1)},l=[],r=(a("ac6a"),a("c441")),o=a("b7c6"),s=a("ba0e"),n=a("9f1e"),u={name:"",watch:{queryParams:{handler:function(t,e){""!==t.endTime&&""!==t.startTime&&t.endTime<t.startTime&&(this.$message.warning("结束时间不能小于开始时间"),this.queryParams.endTime="")},deep:!0}},components:{myTable:r["default"],addOrModify:o["default"],reportBackController:n["default"],detail:s["default"]},data:function(){return{seletedItem:[],queryParams:{keyWord:"",currPage:1,pageSize:10,startTime:"",endTime:""},fixedData:{applyNo:"",applicantDepartment:"",applyTime:"",applicantName:""},showConditionIcon:"el-icon-arrow-up",showCondition:"收起全部筛选项",isShowCondition:!0,allItem:0,buttons:[{code:"111",name:"外出申请",btnScope:"normal"},{code:"112",name:"编辑",btnScope:"single"},{code:"115",name:"查看",btnScope:"single"},{code:"113",name:"删除",btnScope:"multi"},{code:"114",name:"外出归来",btnScope:"single"}]}},methods:{clear:function(){this.queryParams.keyWord="",this.queryParams.startTime="",this.queryParams.endTime=""},search:function(){this.getTableList()},conditionsOn:function(){"el-icon-arrow-up"===this.showConditionIcon?(this.showConditionIcon="el-icon-arrow-down",this.showCondition="展开全部筛选项",this.isShowCondition=!1):"el-icon-arrow-down"===this.showConditionIcon&&(this.showConditionIcon="el-icon-arrow-up",this.showCondition="收起全部筛选项",this.isShowCondition=!0)},option:function(t){var e=this;if("111"==t){var a={dealMark:"add"};this.$store.dispatch("applyOut/applyOutToEdit",a).then(function(a){e.fixedData.applyNo=a.data.applyNo,e.fixedData.applicantDepartment=a.data.applicantDepartment,e.fixedData.applyTime=a.data.applyTime,e.fixedData.applicantName=a.data.applicantName,e.$refs.addOrModify.showDialog(t,e.fixedData)})}else if("112"==t){if("0"!==this.seletedItem[0].applyStatus)return this.$message.warning("此条数据非草稿状态!");this.$refs.addOrModify.showDialog(t,this.seletedItem)}else if("113"==t){var i=!0;if(this.seletedItem.forEach(function(t){if("0"!==t.applyStatus)return i=!1}),!1===i)return this.$message.warning("所选数据存在非草稿状态!");this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];e.seletedItem.forEach(function(e){t.push(e.applyNo)}),e.$store.dispatch("applyOut/applyOutDelete",t.join(",")).then(function(t){"0"==t.status&&(e.$message.success("删除成功"),e.getTableList())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}else if("114"==t){if("4"!==this.seletedItem[0].applyStatus)return this.$message.warning("此条数据状态不为申请成功，不能进行销假");this.$confirm("是否确定销假?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={type:"OUT",applyNo:e.seletedItem[0].applyNo};e.$store.dispatch("applyVacation/reportBackReportBack",t).then(function(t){"0"==t.status&&(e.$message.success("销假成功"),e.getTableList())})}).catch(function(){e.$message({type:"info",message:"已取消"})})}else"115"===t&&this.$refs.detail.showDialog(this.seletedItem)},getTableList:function(){this.$refs.myTable.getTableList()},transferSelectItem:function(t){this.seletedItem=t},setStatus:function(t){return"single"==t?1!=this.seletedItem.length:"multi"==t?!(this.seletedItem.length>=1):"normal"!=t}}},d=u,p=a("2877"),c=Object(p["a"])(d,i,l,!1,null,null,null);e["default"]=c.exports},"7fba":function(t,e,a){},"9f1e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addOrModify"},[a("el-dialog",{attrs:{title:"库存管理新增",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"申请单号"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applyNo,callback:function(e){t.$set(t.fixedData,"applyNo",e)},expression:"fixedData.applyNo"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"申请部门"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applicantDepartment,callback:function(e){t.$set(t.fixedData,"applicantDepartment",e)},expression:"fixedData.applicantDepartment"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"申请人"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applicantName,callback:function(e){t.$set(t.fixedData,"applicantName",e)},expression:"fixedData.applicantName"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"申请日期"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applyTime,callback:function(e){t.$set(t.fixedData,"applyTime",e)},expression:"fixedData.applyTime"}})],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"outTime"},[a("el-col",{staticStyle:{height:"50px"},attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"实际归来时间",prop:"outTime"}},[a("el-date-picker",{attrs:{type:"date","value-format":"timestamp",placeholder:"选择日期"},model:{value:t.ruleForm.outTime,callback:function(e){t.$set(t.ruleForm,"outTime",e)},expression:"ruleForm.outTime"}})],1)],1)]),t._v(" "),a("el-col",{staticStyle:{height:"50px"},attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"计划归来时间",prop:"outTime"}},[a("el-date-picker",{attrs:{type:"date","value-format":"timestamp",placeholder:"选择日期"},model:{value:t.ruleForm.outTime,callback:function(e){t.$set(t.ruleForm,"outTime",e)},expression:"ruleForm.outTime"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"实际请假时长(小时)"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.outLength,callback:function(e){t.outLength=e},expression:"outLength"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple waichureason"},[a("el-form-item",{attrs:{label:"归来时间变动原因"}},[a("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},model:{value:t.ruleForm.reason,callback:function(e){t.$set(t.ruleForm,"reason",e)},expression:"ruleForm.reason"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple fujian"},[a("el-form-item",{attrs:{label:"附件"}},[t.dialogFormVisible?a("up-load",{attrs:{contextPath:"/oa-web/",uploadTitle:"点击上传附件"},model:{value:t.ruleForm.attachment,callback:function(e){t.$set(t.ruleForm,"attachment",e)},expression:"ruleForm.attachment"}}):t._e()],1)],1)])],1),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("提交")])],1)],1)],1)],1)},l=[],r=a("f8f6"),o={components:{upLoad:r["default"]},computed:{outLength:function(){return this.ruleForm.outTime?0==this.ruleForm.outTime.length?0:((this.ruleForm.outTime[1]-this.ruleForm.outTime[0])/1e3/60/60).toFixed(1):0}},data:function(){return{fileToken:"",isAddOrMOdify:"",dialogFormVisible:!1,formLabelWidth:"120",ruleForm:{applyName:"",attachment:"",destination:"",outTime:[],reason:""},fixedData:{},rules:{outTime:[{required:"true",message:"外出时间必填",trigger:"change"}],reason:[{required:"true",message:"外出事由必填",trigger:"blur"}],destination:[{required:"true",message:"外出地点必填",trigger:"blur"}],applyName:[{required:"true",message:"申请标题必填",trigger:"blur"}]}}},methods:{showDialog:function(t){var e=this;this.dialogFormVisible=!this.dialogFormVisible,this.fixedData.applyNo=t[0].applyNo,this.fixedData.applicantDepartment=t[0].applicantDepartment,this.fixedData.applyTime=t[0].applyTime,this.fixedData.applicantName=t[0].applicantName,"111"==val?this.isAddOrMOdify=!0:"112"==val&&(this.isAddOrMOdify=!1),"111"==val?(this.ruleForm.attachment="",this.ruleForm.destination="",this.ruleForm.outLength="",this.ruleForm.outTime=[],this.ruleForm.reason=""):"112"==val&&(this.ruleForm.outTime=[],this.ruleForm.destination=t[0].destination,this.ruleForm.outTime.push(t[0].outStartTimeLong+""),this.ruleForm.outTime.push(t[0].outEndTimeLong+""),this.ruleForm.reason=t[0].reason,this.ruleForm.attachment=t[0].attachment||"",this.ruleForm.applyNo=t[0].applyNo),this.$nextTick(function(){e.$refs.ruleForm.clearValidate()})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a={};e.isAddOrMOdify?(a.applyNo=e.fixedData.applyNo,a.attachment=e.ruleForm.attachment,a.destination=e.ruleForm.destination,a.outLength=e.outLength,a.reason=e.ruleForm.reason,a.outEndTime=e.ruleForm.outTime[1],a.outStartTime=e.ruleForm.outTime[0]):e.isAddOrMOdify||(a.applyNo=e.ruleForm.applyNo,a.attachment=e.ruleForm.attachment,a.destination=e.ruleForm.destination,a.outLength=e.outLength,a.reason=e.ruleForm.reason,a.outEndTime=e.ruleForm.outTime[1],a.outStartTime=e.ruleForm.outTime[0]),e.$store.dispatch(e.isAddOrMOdify?"applyOut/applyOutAdd":"applyOut/applyOutUpdate",a).then(function(t){"0"==t.status&&(e.$message.success(e.isAddOrMOdify?"新增成功":"更新成功"),e.$emit("getTableList"),e.dialogFormVisible=!e.dialogFormVisible)})})}}},s=o,n=(a("034a"),a("2877")),u=Object(n["a"])(s,i,l,!1,null,null,null);e["default"]=u.exports},b7c6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addOrModify"},[a("el-dialog",{attrs:{title:"外出申请新增",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"申请单号"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applyNo,callback:function(e){t.$set(t.fixedData,"applyNo",e)},expression:"fixedData.applyNo"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"申请部门"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applicantDepartment,callback:function(e){t.$set(t.fixedData,"applicantDepartment",e)},expression:"fixedData.applicantDepartment"}})],1)],1)])],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"申请人"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applicantName,callback:function(e){t.$set(t.fixedData,"applicantName",e)},expression:"fixedData.applicantName"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"申请日期"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.fixedData.applyTime,callback:function(e){t.$set(t.fixedData,"applyTime",e)},expression:"fixedData.applyTime"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"外出时长(小时)"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.outLength,callback:function(e){t.outLength=e},expression:"outLength"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"外出地点",prop:"destination"}},[a("el-input",{model:{value:t.ruleForm.destination,callback:function(e){t.$set(t.ruleForm,"destination",e)},expression:"ruleForm.destination"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{height:"50px"},attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"是否用车",prop:"isUserCar"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.ruleForm.isUserCar,callback:function(e){t.$set(t.ruleForm,"isUserCar",e)},expression:"ruleForm.isUserCar"}},t._l(t.isUserCarOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"outTime"},[a("el-col",{staticStyle:{height:"50px"},attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"外出时间",prop:"outTime"}},[a("el-date-picker",{staticStyle:{marginTop:"10px",marginLeft:"8px"},attrs:{type:"datetimerange","range-separator":"至",format:"yyyy-MM-dd HH:mm","value-format":"timestamp","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.ruleForm.outTime,callback:function(e){t.$set(t.ruleForm,"outTime",e)},expression:"ruleForm.outTime"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple waichureason"},[a("el-form-item",{attrs:{label:"外出事由",prop:"reason"}},[a("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},model:{value:t.ruleForm.reason,callback:function(e){t.$set(t.ruleForm,"reason",e)},expression:"ruleForm.reason"}})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple fujian"},[a("el-form-item",{attrs:{label:"附件"}},[t.dialogFormVisible?a("up-load",{attrs:{contextPath:"/oa-web/",uploadTitle:"点击上传附件"},model:{value:t.ruleForm.attachment,callback:function(e){t.$set(t.ruleForm,"attachment",e)},expression:"ruleForm.attachment"}}):t._e()],1)],1)])],1),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm","save")}}},[t._v(t._s(t.isAddOrMOdify?"保存":"更新"))]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.submitForm("ruleForm","submit")}}},[t._v("提交")])],1)],1)],1)],1)},l=[],r=(a("c5f6"),a("ac6a"),a("f8f6")),o={components:{upLoad:r["default"]},computed:{outLength:function(){return this.ruleForm.outTime?0==this.ruleForm.outTime.length?0:((this.ruleForm.outTime[1]-this.ruleForm.outTime[0])/1e3/60/60).toFixed(1):0}},data:function(){return{fileToken:"",isAddOrMOdify:"",dialogFormVisible:!1,formLabelWidth:"120",isUserCarOptions:[],ruleForm:{isUserCar:"",applyName:"",attachment:"",destination:"",outTime:[],reason:""},fixedData:{},rules:{outTime:[{required:"true",message:"外出时间必填",trigger:"change"}],reason:[{required:"true",message:"外出事由必填",trigger:"blur"}],destination:[{required:"true",message:"外出地点必填",trigger:"blur"}],applyName:[{required:"true",message:"申请标题必填",trigger:"blur"}]}}},methods:{showDialog:function(t,e){var a=this;this.dialogFormVisible=!this.dialogFormVisible,this.$store.dispatch("caigoushenqing/commonTCodeGetCodeByParentId","102").then(function(t){var e=[];t.data.options.forEach(function(t){var a={};a.label=t.label,a.value=Number(t.value),e.push(a)}),a.isUserCarOptions=e}),"111"==t?(this.ruleForm.attachment="",this.ruleForm.destination="",this.ruleForm.outLength="",this.ruleForm.outTime=[],this.ruleForm.reason="",this.ruleForm.isUserCar="",this.fixedData=e,this.isAddOrMOdify=!0):"112"==t&&(this.ruleForm.outTime=[],this.fixedData.applyNo=e[0].applyNo,this.fixedData.applicantDepartment=e[0].applicantDepartment,this.fixedData.applyTime=e[0].applyTime,this.fixedData.applicantName=e[0].applicantName,this.ruleForm.destination=e[0].destination,this.ruleForm.outTime.push(e[0].outStartTimeLong+""),this.ruleForm.outTime.push(e[0].outEndTimeLong+""),this.ruleForm.reason=e[0].reason,this.ruleForm.isUserCar=e[0].isUserCar,this.ruleForm.attachment=e[0].attachment||"",this.ruleForm.applyNo=e[0].applyNo,this.isAddOrMOdify=!1),this.$nextTick(function(){a.$refs.ruleForm.clearValidate()})},submitForm:function(t,e){var a=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var i={};i.applyNo=a.fixedData.applyNo,i.attachment=a.ruleForm.attachment,i.destination=a.ruleForm.destination,i.outLength=a.outLength,i.reason=a.ruleForm.reason,i.isUserCar=a.ruleForm.isUserCar,i.outEndTime=a.ruleForm.outTime[1],i.outStartTime=a.ruleForm.outTime[0],"submit"===e?a.$store.dispatch("applyOut/applyOutSubmit",i).then(function(t){return a.$emit("getTableList"),a.dialogFormVisible=!a.dialogFormVisible,a.$message.success("提交成功!")}):a.$store.dispatch(a.isAddOrMOdify?"applyOut/applyOutAdd":"applyOut/applyOutUpdate",i).then(function(t){"0"==t.status&&(a.$message.success(a.isAddOrMOdify?"新增成功":"更新成功"),a.$emit("getTableList"),a.dialogFormVisible=!a.dialogFormVisible)})})}}},s=o,n=(a("c3bd"),a("2877")),u=Object(n["a"])(s,i,l,!1,null,null,null);e["default"]=u.exports},ba0e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("el-dialog",{attrs:{title:"详情页",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-row",t._l(t.data,function(e,i,l){return a("el-col",{key:l,attrs:{span:12}},[a("div",{staticClass:"left"},[t._v("\n            "+t._s(t._f("getTitle")(i))+"\n        ")]),t._v(" "),a("div",{staticClass:"right"},[t._v("\n            "+t._s(e)+"\n        ")])])}),1),t._v(" "),a("el-row",{staticStyle:{borderTop:"0"}},[a("el-col",{staticStyle:{height:"auto"},attrs:{span:12}},[a("div",{staticClass:"left"},[t._v("\n            附件\n        ")]),t._v(" "),a("div",{staticClass:"right"},[t.dialogFormVisible?a("up-load",{attrs:{hiddenUpload:!0},model:{value:t.fileToken,callback:function(e){t.fileToken=e},expression:"fileToken"}}):t._e()],1)])],1)],1)],1)},l=[],r=a("f8f6"),o={filters:{getTitle:function(t){return"applicantDepartment"==t?"所在的部门":"applicantName"==t?"姓名":"applyName"==t?"会议名称":"applyNo"==t?"表单号":"applyStatusName"==t?"状态":"applyTime"==t?"申请日期":"createBy"==t?"申请人":"reason"==t?"申请事由":"outStartTime"==t?"外出开始时间":"outEndTime"==t?"外出结束时间":"outLength"==t?"外出时长":"returnTime"==t?"归来时间":"destination"==t?"外出地点":"vacationTypeName"==t?"请假类型":void 0}},data:function(){return{fileToken:"",dialogFormVisible:!1,data:{}}},components:{upLoad:r["default"]},methods:{showDialog:function(t){this.dialogFormVisible=!this.dialogFormVisible,this.data.applicantDepartment=t[0].applicantDepartment,this.data.applicantName=t[0].applicantName,this.data.applyNo=t[0].applyNo,this.data.applyStatusName=t[0].applyStatusName,this.data.applyTime=t[0].applyTime,this.data.createBy=t[0].createBy,this.data.reason=t[0].reason,this.data.outStartTime=t[0].outStartTime,this.data.outEndTime=t[0].outEndTime,this.data.outLength=t[0].outLength,this.data.destination=t[0].destination,this.data.returnTime=t[0].returnTime,this.fileToken=null==t[0].attachment?"":t[0].attachment}}},s=o,n=a("2877"),u=Object(n["a"])(s,i,l,!1,null,null,null);e["default"]=u.exports},c3bd:function(t,e,a){"use strict";var i=a("7fba"),l=a.n(i);l.a},c441:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyNo",label:"申请单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applicantDepartment",label:"申请部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applicantName",label:"申请人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyTime",label:"申请日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"outStartTime",label:"开始时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"outEndTime",label:"结束时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"destination",label:"外出地点"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reason",label:"事由"}}),t._v(" "),a("el-table-column",{attrs:{prop:"returnTime",label:"归来时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyStatusName",label:"状态"}})],1),t._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":t.queryParams.currPage,background:"",small:"","page-sizes":[10,20,30,40],layout:" prev, pager, next,total ,sizes ,jumper",total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},l=[],r={props:{queryParams:{type:Object,required:!0}},data:function(){return{tableData:[],totalPage:0}},mounted:function(){this.getTableList()},methods:{getTableList:function(){var t=this;this.$store.dispatch("applyOut/applyOutList",this.queryParams).then(function(e){t.tableData=e.data,t.totalPage=e.totalCount,t.$parent.allItem=t.totalPage})},handleSizeChange:function(t){this.queryParams.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.queryParams.currPage=t,this.getTableList()},handleSelectionChange:function(t){this.$emit("transferSelectItem",t)}}},o=r,s=a("2877"),n=Object(s["a"])(o,i,l,!1,null,null,null);e["default"]=n.exports},f8f6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-box"},[t.hiddenUpload?a("div",{staticClass:"fileView"},t._l(t.fileList,function(e){return a("h3",{key:e.uid},[a("a",{attrs:{href:t.contextPath+"attachController/download?fileId="+e.uid,target:"_blank"}},[t._v(t._s(e.name))])])}),0):t._e(),t._v(" "),t.hiddenUpload?t._e():a("div",{staticClass:"el-upload-box"},[a("el-upload",{ref:"upload",attrs:{action:t.updatePath,"auto-upload":!0,name:t.upLoadName,data:t.extraData,"file-list":t.fileList,accept:t.acceptFormat,"on-success":t.handleSuccess,"on-exceed":t.handleExceed,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"on-error":t.handleError,"on-change":t.handleChange,"before-remove":t.beforeRemove,"before-upload":t.beforeUpload}},[a("el-button",{class:{active:t.hiddenUpload},attrs:{size:t.size,type:"primary"}},[t._v(t._s(t.uploadTitle))]),t._v(" "),t.isShowTip?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.TipTitle))]):t._e()],1)],1)])},l=[],r=(a("28a5"),a("7f7f"),a("c5f6"),a("bc3a")),o=a.n(r),s={name:"GuluUpload",model:{prop:"value",event:"update-value"},props:{value:[String],isShowTip:{type:Boolean,default:!1},hiddenUpload:{type:Boolean,default:!1},tipTitle:{type:String,default:"只能上传jpg / png文件， 且不超过500kb"},uploadTitle:{type:String,default:"点击上传"},limit:{type:Number,default:1},extraData:{type:Object,default:function(){return{bizTableName:"",bizTablePk:"",fieldName:""}}},size:{type:String,default:"small"},upLoadName:{type:String,default:"file"},contextPath:{type:String,default:"/oa-web/"},acceptFormat:{type:String,default:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF,.rp,.vsd"}},data:function(){return{updatePath:this.contextPath+"attachController/upload?fieldToken="+this.value,fileList:[]}},created:function(){var t=this;setTimeout(function(){t.$nextTick(function(){t.updatePath=t.contextPath+"attachController/upload?fieldToken="+t.value,t.getFileData()})},500)},methods:{getFileData:function(){var t=this,e=this.value;""!=e&&null!=e||(e="-1"),o()({url:this.contextPath+"attachController/getFileList?fieldToken="+e,method:"get"}).then(function(e){"0"===e.data.status?e.data.data.fileList&&t.$nextTick(function(){t.fileList=e.data.data.fileList,0==t.fileList.length&&t.$emit("update-value","")}):t.$message({type:"info",duration:1e3,message:e.data.msg})})},beforeUpload:function(t){},handleChange:function(t,e){var a=t.name.substring(t.name.lastIndexOf(".")+1),i="rp"===a,l="vsd"===a;(i||l)&&(this.$message({message:"上传文件不能是 rp 、vsd 格式!",type:"warning"}),this.$refs.upload.clearFiles())},handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(t.length," 个文件，本次选择了 ").concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},handleRemove:function(t,e){var a=this;o()({url:this.contextPath+"attachController/delete?fileId="+t.uid,method:"get"}).then(function(t){"0"===t.data.status&&0==e.length&&a.$emit("update-value","")})},handleError:function(t,e,a){},handleSuccess:function(t,e,a){var i=t.data.fieldToken;void 0==i&&(i=this.value);var l=this.updatePath.split("=");""!=l[1]&&""==i&&(i=l[1]),this.updatePath=this.contextPath+"attachController/upload?fieldToken="+i,this.$emit("update-value",i)},beforeRemove:function(t,e){return this.$confirm("确定移除 ".concat(t.name,"？"))},handlePreview:function(t){window.open(this.contextPath+"attachController/download?fileId="+t.uid)}}},n=s,u=(a("3a21"),a("2877")),d=Object(u["a"])(n,i,l,!1,null,"087933ee",null);e["default"]=d.exports}}]);