(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d47b0f5c","chunk-eba43a9a","chunk-2d0f14f7"],{"3c23":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addOrModify"},[r("el-dialog",{attrs:{title:"库存管理新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-dialog",{attrs:{width:"80%",title:"选择人员",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[e.innerVisible?r("select-person",{attrs:{contextPath:"/oa-web"},on:{"update-value":e.getselectItemMP},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}}):e._e()],1),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"申请单号"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.fixedData.applyNo,callback:function(t){e.$set(e.fixedData,"applyNo",t)},expression:"fixedData.applyNo"}})],1)],1)]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"申请部门"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.fixedData.applicantDepartment,callback:function(t){e.$set(e.fixedData,"applicantDepartment",t)},expression:"fixedData.applicantDepartment"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"申请人"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.fixedData.applicantName,callback:function(t){e.$set(e.fixedData,"applicantName",t)},expression:"fixedData.applicantName"}})],1)],1)]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},[r("el-form-item",{attrs:{label:"申请日期"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.fixedData.applyTime,callback:function(t){e.$set(e.fixedData,"applyTime",t)},expression:"fixedData.applyTime"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"会议名称",prop:"applyName"}},[r("el-input",{model:{value:e.ruleForm.applyName,callback:function(t){e.$set(e.ruleForm,"applyName",t)},expression:"ruleForm.applyName"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"会议类型"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.meetingSummaryType,callback:function(t){e.$set(e.ruleForm,"meetingSummaryType",t)},expression:"ruleForm.meetingSummaryType"}},e._l(e.meetingOptions,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"签发日期"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.issuingDate,callback:function(t){e.$set(e.ruleForm,"issuingDate",t)},expression:"ruleForm.issuingDate"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"会议时间"}},[r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.ruleForm.meetingTime,callback:function(t){e.$set(e.ruleForm,"meetingTime",t)},expression:"ruleForm.meetingTime"}})],1)],1)]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form-item",{attrs:{label:"会议地点"}},[r("el-input",{model:{value:e.ruleForm.meetingPlace,callback:function(t){e.$set(e.ruleForm,"meetingPlace",t)},expression:"ruleForm.meetingPlace"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple waichureason"},[r("el-form-item",{attrs:{label:"参会人员",prop:"meetingPerson"}},[r("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},on:{focus:function(t){return e.selectPerson("meetingPerson")}},model:{value:e.ruleForm.meetingPerson,callback:function(t){e.$set(e.ruleForm,"meetingPerson",t)},expression:"ruleForm.meetingPerson"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple waichureason"},[r("el-form-item",{attrs:{label:"列席人员"}},[r("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},on:{focus:function(t){return e.selectPerson("observerPerson")}},model:{value:e.ruleForm.observerPerson,callback:function(t){e.$set(e.ruleForm,"observerPerson",t)},expression:"ruleForm.observerPerson"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple waichureason"},[r("el-form-item",{attrs:{label:"记录人员",prop:"recordPerson"}},[r("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},on:{focus:function(t){return e.selectPerson("recordPerson")}},model:{value:e.ruleForm.recordPerson,callback:function(t){e.$set(e.ruleForm,"recordPerson",t)},expression:"ruleForm.recordPerson"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple waichureason"},[r("el-form-item",{attrs:{label:"主持人"}},[r("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},on:{focus:function(t){return e.selectPerson("meetingHost")}},model:{value:e.ruleForm.meetingHost,callback:function(t){e.$set(e.ruleForm,"meetingHost",t)},expression:"ruleForm.meetingHost"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple waichureason"},[r("el-form-item",{attrs:{label:"会议议题",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",rows:"3",cols:"110"},model:{value:e.ruleForm.meetingContent,callback:function(t){e.$set(e.ruleForm,"meetingContent",t)},expression:"ruleForm.meetingContent"}})],1)],1)])],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple fujian"},[r("el-form-item",{attrs:{label:"附件"}},[e.dialogFormVisible?r("up-load",{attrs:{contextPath:"/oa-web/",uploadTitle:"点击上传附件"},model:{value:e.ruleForm.attachment,callback:function(t){e.$set(e.ruleForm,"attachment",t)},expression:"ruleForm.attachment"}}):e._e()],1)],1)])],1),e._v(" "),r("div",{staticClass:"submit"},[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)},a=[],s=(r("c5f6"),r("ac6a"),r("f8f6")),n=r("033f"),o=(r("1c46"),{components:{upLoad:s["default"],selectPerson:n["default"]},watch:{userId:function(e,t){"observerPerson"==this.WhichClick?this.formId.observerPerson=e:"recordPerson"==this.WhichClick?this.formId.recordPerson=e:"meetingHost"==this.WhichClick?this.formId.meetingHost=e:"meetingPerson"==this.WhichClick&&(this.formId.meetingPerson=e)}},data:function(){return{userId:"",meetingOptions:[],fileToken:"",isAddOrMOdify:"",dialogFormVisible:!1,innerVisible:!1,formLabelWidth:"120",vacationType:[],WhichClick:"",formId:{observerPerson:"",recordPerson:"",meetingHost:"",meetingPerson:""},ruleForm:{applyName:"",meetingContent:"",meetingPlace:"",meetingSummaryType:"",meetingTime:"",issuingDate:"",meetingPerson:"",meetingHost:"",observerPerson:"",recordPerson:"",attachment:""},fixedData:{},rules:{recordPerson:[{required:"true",message:"记录人员必填",trigger:"change"}],applyName:[{required:"true",message:"会议名称必填",trigger:"blur"}],meetingPerson:[{required:"true",message:"参会人员必填",trigger:"change"}],meetingContent:[{required:"true",message:"会议议题必填",trigger:"change"}]}}},methods:{getselectItemMP:function(e,t){"observerPerson"==this.WhichClick?this.ruleForm.observerPerson=t.join(","):"recordPerson"==this.WhichClick?this.ruleForm.recordPerson=t.join(","):"meetingHost"==this.WhichClick?this.ruleForm.meetingHost=t.join(","):"meetingPerson"==this.WhichClick&&(this.ruleForm.meetingPerson=t.join(",")),this.innerVisible=!this.innerVisible},selectPerson:function(e){this.innerVisible=!this.innerVisible,this.WhichClick=e,this.isAddOrMOdify&&(this.userId=""),this.isAddOrMOdify||("observerPerson"==this.WhichClick?this.userId=this.formId.observerPerson||"":"recordPerson"==this.WhichClick?this.userId=this.formId.recordPerson||"":"meetingHost"==this.WhichClick?this.userId=this.formId.meetingHost||"":"meetingPerson"==this.WhichClick&&(this.userId=this.formId.meetingPerson||""))},showDialog:function(e,t){var r=this;this.dialogFormVisible=!this.dialogFormVisible,this.$store.dispatch("meetingSummary/commonTCodeGetCodeByParentId").then(function(e){"0"!==e.status&&r.$message.error("接口请求出错"),r.meetingOptions=[],e.data.options.forEach(function(e){var t={};t.label=e.label,t.value=Number(e.value),r.meetingOptions.push(t)})}),"111"==e?this.isAddOrMOdify=!0:"112"==e&&(this.isAddOrMOdify=!1),"111"==e?(this.ruleForm.applyName="",this.userId="",this.ruleForm.meetingContent="",this.ruleForm.meetingPlace="",this.ruleForm.meetingSummaryType="",this.ruleForm.meetingTime="",this.ruleForm.issuingDate="",this.ruleForm.observerPerson="",this.ruleForm.recordPerson="",this.ruleForm.meetingHost="",this.ruleForm.meetingPerson="",this.ruleForm.attachment="",this.formId.observerPerson="",this.formId.recordPerson="",this.formId.meetingHost="",this.formId.meetingPerson="",this.fixedData=t):"112"==e&&(this.fixedData.applyNo=t[0].applyNo,this.fixedData.applicantDepartment=t[0].applicantDepartment,this.fixedData.applyTime=t[0].applyTime,this.fixedData.applicantName=t[0].applicantName,this.ruleForm.applyName=t[0].applyName,this.ruleForm.id=t[0].id,this.ruleForm.meetingSummaryType=t[0].meetingSummaryType,this.ruleForm.meetingPlace=t[0].meetingPlace,this.ruleForm.meetingTime=t[0].meetingTime,this.ruleForm.issuingDate=t[0].issuingDate,this.ruleForm.meetingContent=t[0].meetingContent,this.ruleForm.meetingPerson=t[0].meetingPersonName,this.ruleForm.meetingHost=t[0].meetingHostName,this.ruleForm.observerPerson=t[0].observerPersonName,this.ruleForm.recordPerson=t[0].recordPersonName,this.ruleForm.attachment=t[0].attachment||"",this.formId.meetingPerson=t[0].meetingPerson,this.formId.meetingHost=t[0].meetingHost,this.formId.observerPerson=t[0].observerPerson,this.formId.recordPerson=t[0].recordPerson),this.$nextTick(function(){r.$refs.ruleForm.clearValidate()})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r={};t.isAddOrMOdify?(r.applyName=t.ruleForm.applyName,r.applyNo=t.fixedData.applyNo,r.meetingContent=t.ruleForm.meetingContent,r.meetingPlace=t.ruleForm.meetingPlace,r.meetingSummaryType=t.ruleForm.meetingSummaryType,r.meetingTime=t.ruleForm.meetingTime,r.issuingDate=t.ruleForm.issuingDate,r.observerPerson=t.formId.observerPerson,r.recordPerson=t.formId.recordPerson,r.meetingHost=t.formId.meetingHost,r.meetingPerson=t.formId.meetingPerson,r.attachment=t.ruleForm.attachment):t.isAddOrMOdify||(r.applyName=t.ruleForm.applyName,r.applyNo=t.fixedData.applyNo,r.id=t.ruleForm.id,r.meetingContent=t.ruleForm.meetingContent,r.meetingPlace=t.ruleForm.meetingPlace,r.meetingSummaryType=t.ruleForm.meetingSummaryType,r.meetingTime=t.ruleForm.meetingTime,r.issuingDate=t.ruleForm.issuingDate,r.observerPerson=t.formId.observerPerson,r.recordPerson=t.formId.recordPerson,r.meetingHost=t.formId.meetingHost,r.meetingPerson=t.formId.meetingPerson,r.attachment=t.ruleForm.attachment),t.$store.dispatch(t.isAddOrMOdify?"meetingSummary/meetingSummaryAdd":"meetingSummary/meetingSummaryUpdate",r).then(function(e){"0"==e.status&&(t.$message.success(t.isAddOrMOdify?"新增成功":"更新成功"),t.$emit("getTableList"),t.dialogFormVisible=!t.dialogFormVisible)})})}}}),l=o,m=(r("4e2e"),r("2877")),c=Object(m["a"])(l,i,a,!1,null,null,null);t["default"]=c.exports},"43ab":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",[r("div",[r("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入关键字搜索"},model:{value:e.queryParams.keyWord,callback:function(t){e.$set(e.queryParams,"keyWord",t)},expression:"queryParams.keyWord"}}),e._v(" "),r("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:e.search},slot:"append"},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{slot:"append",icon:"el-icon-delete",size:"mini"},on:{click:e.clear},slot:"append"},[e._v("清空")])],1),e._v(" "),r("a",{on:{click:e.conditionsOn}},[e._v(e._s(e.showCondition))]),e._v(" "),r("el-divider"),e._v(" "),r("transition",{attrs:{name:"el-zoom-in-top"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowCondition,expression:"isShowCondition"}],staticClass:"conditions"},[r("div",[r("span",[e._v("申请日期")]),e._v(" "),r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择开始日期"},model:{value:e.queryParams.startTime,callback:function(t){e.$set(e.queryParams,"startTime",t)},expression:"queryParams.startTime"}}),e._v(" "),r("span",[e._v("至")]),e._v(" "),r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择结束日期"},model:{value:e.queryParams.endTime,callback:function(t){e.$set(e.queryParams,"endTime",t)},expression:"queryParams.endTime"}})],1),e._v(" "),r("el-divider"),e._v(" "),r("div",e._l(e.buttons,function(t,i){return r("el-button",{key:i,attrs:{disabled:e.setStatus(t.btnScope),type:"danger",plain:"",size:"mini"},on:{click:function(r){return e.option(t.code)}}},[e._v(e._s(t.name))])}),1)],1)])],1),e._v(" "),r("div",{staticClass:"bottom"},[r("span",[e._v("全部结果")]),e._v("  \n    "),r("span",[e._v("共"+e._s(e.allItem)+"个结果")]),e._v(" "),r("my-table",{ref:"myTable",attrs:{queryParams:e.queryParams},on:{transferSelectItem:e.transferSelectItem}})],1),e._v(" "),r("add-or-modify",{ref:"addOrModify",on:{getTableList:e.getTableList}})],1)},a=[],s=(r("ac6a"),r("9fa5")),n=r("3c23"),o={name:"",watch:{queryParams:{handler:function(e,t){""!==e.endTime&&""!==e.startTime&&e.endTime<e.startTime&&(this.$message.warning("结束时间不能小于开始时间"),this.queryParams.endTime="")},deep:!0}},components:{myTable:s["default"],addOrModify:n["default"]},data:function(){return{seletedItem:[],queryParams:{keyWord:"",currPage:1,pageSize:10,startTime:"",endTime:""},fixedData:{applyNo:"",applicantDepartment:"",applyTime:"",applicantName:""},showConditionIcon:"el-icon-arrow-up",showCondition:"收起全部筛选项",isShowCondition:!0,allItem:0,buttons:[{code:"111",name:"新增",btnScope:"normal"},{code:"112",name:"编辑",btnScope:"single"},{code:"113",name:"删除",btnScope:"multi"}]}},methods:{clear:function(){this.queryParams.keyWord="",this.queryParams.startTime="",this.queryParams.endTime=""},search:function(){this.getTableList()},conditionsOn:function(){"el-icon-arrow-up"===this.showConditionIcon?(this.showConditionIcon="el-icon-arrow-down",this.showCondition="展开全部筛选项",this.isShowCondition=!1):"el-icon-arrow-down"===this.showConditionIcon&&(this.showConditionIcon="el-icon-arrow-up",this.showCondition="收起全部筛选项",this.isShowCondition=!0)},option:function(e){var t=this;if("111"==e){var r={dealMark:"add"};this.$store.dispatch("meetingSummary/meetingSummaryToEdit",r).then(function(r){t.fixedData.applyNo=r.data.applyNo,t.fixedData.applicantDepartment=r.data.applicantDepartment,t.fixedData.applyTime=r.data.applyTime,t.fixedData.applicantName=r.data.applicantName,t.$refs.addOrModify.showDialog(e,t.fixedData)})}else"112"==e?this.$refs.addOrModify.showDialog(e,this.seletedItem):"113"==e&&this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){console.log(t.seletedItem);var e=[];t.seletedItem.forEach(function(t){e.push(t.id)}),t.$store.dispatch("meetingSummary/meetingSummaryDelete",e.join(",")).then(function(e){"0"==e.status&&(t.$message.success("删除成功"),t.getTableList())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getTableList:function(){this.$refs.myTable.getTableList()},transferSelectItem:function(e){this.seletedItem=e},setStatus:function(e){return"single"==e?1!=this.seletedItem.length:"multi"==e?!(this.seletedItem.length>=1):"normal"!=e}}},l=o,m=r("2877"),c=Object(m["a"])(l,i,a,!1,null,null,null);t["default"]=c.exports},"4e2e":function(e,t,r){"use strict";var i=r("eccd"),a=r.n(i);a.a},"9fa5":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"70"}}),e._v(" "),r("el-table-column",{attrs:{prop:"applicantName",label:"申请人"}}),e._v(" "),r("el-table-column",{attrs:{prop:"applicantDepartment",label:"申请部门"}}),e._v(" "),r("el-table-column",{attrs:{prop:"applyTime",label:"申请日期"}}),e._v(" "),r("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"returnDt",label:"归来日期"}}),e._v(" "),r("el-table-column",{attrs:{prop:"functionTypeName",label:"类型"}}),e._v(" "),r("el-table-column",{attrs:{prop:"applyStatus",label:"执行状态"}})],1),e._v(" "),r("div",[r("el-pagination",{attrs:{"current-page":e.queryParams.currPage,background:"",small:"","page-sizes":[10,20,30,40],layout:" prev, pager, next,total ,sizes ,jumper",total:e.totalPage},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],s={props:{queryParams:{type:Object,required:!0}},data:function(){return{tableData:[],totalPage:0}},mounted:function(){this.getTableList()},methods:{getTableList:function(){var e=this;this.$store.dispatch("reportBack/reportBackList",this.queryParams).then(function(t){e.tableData=t.data,e.totalPage=t.totalCount,e.$parent.allItem=e.totalPage})},handleSizeChange:function(e){this.queryParams.pageSize=e,this.getTableList()},handleCurrentChange:function(e){this.queryParams.currPage=e,this.getTableList()},handleSelectionChange:function(e){this.$emit("transferSelectItem",e)}}},n=s,o=r("2877"),l=Object(o["a"])(n,i,a,!1,null,null,null);t["default"]=l.exports},eccd:function(e,t,r){}}]);