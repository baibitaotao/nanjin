(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70d0add5","chunk-1c0047c5","chunk-2d21dc91"],{"117b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",[a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入办公用品类别/办公用品搜索"},model:{value:t.queryParams.keyWord,callback:function(e){t.$set(t.queryParams,"keyWord",e)},expression:"queryParams.keyWord"}}),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"mini"},on:{click:t.search},slot:"append"},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-delete",size:"mini"},on:{click:t.clear},slot:"append"},[t._v("清空")])],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowCondition,expression:"isShowCondition"}],staticClass:"conditions"},[a("div",t._l(t.buttons,function(e,i){return a("el-button",{key:i,attrs:{disabled:t.setStatus(e.btnScope),type:"danger",plain:"",size:"mini"},on:{click:function(a){return t.option(e.code)}}},[t._v(t._s(e.name))])}),1)])])],1),t._v(" "),a("div",{staticClass:"bottom"},[a("span",[t._v("全部结果")]),t._v("  \n    "),a("span",[t._v("共"+t._s(t.allItem)+"个结果")]),t._v(" "),a("my-table",{ref:"myTable",attrs:{queryParams:t.queryParams},on:{transferSelectItem:t.transferSelectItem}})],1),t._v(" "),a("add-or-modify",{ref:"addOrModify",on:{getTableList:t.getTableList}})],1)},n=[],o=(a("ac6a"),a("d37c")),s=a("1ac4"),l={name:"ExpensePaidDetail",components:{myTable:o["default"],addOrModify:s["default"]},data:function(){return{seletedItem:[],queryParams:{keyWord:"",currPage:1,pageSize:10},showConditionIcon:"el-icon-arrow-up",showCondition:"收起全部筛选项",isShowCondition:!0,allItem:0,buttons:[{code:"111",name:"新增",btnScope:"normal"}]}},methods:{clear:function(){this.queryParams.keyWord=""},search:function(){this.getTableList()},conditionsOn:function(){"el-icon-arrow-up"===this.showConditionIcon?(this.showConditionIcon="el-icon-arrow-down",this.showCondition="展开全部筛选项",this.isShowCondition=!1):"el-icon-arrow-down"===this.showConditionIcon&&(this.showConditionIcon="el-icon-arrow-up",this.showCondition="收起全部筛选项",this.isShowCondition=!0)},option:function(t){var e=this;if("111"==t){var a={dealMark:"add"};this.$store.dispatch("officeStock/officeStockToEdit",a).then(function(a){e.$refs.addOrModify.showDialog(t,a.data.applyNo)})}else"112"==t?this.$store.dispatch("officeStock/officeStockDetail",this.seletedItem[0].applyNo).then(function(a){e.$refs.addOrModify.showDialog(t,a.data)}):"113"==t&&this.$confirm("是否确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];e.seletedItem.forEach(function(e){t.push(e.stockId)}),e.$store.dispatch("officeStock/officeStockDelete",t.join(",")).then(function(t){"0"==t.status&&(e.$message.success("删除成功"),e.getTableList())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getTableList:function(){this.$refs.myTable.getTableList()},transferSelectItem:function(t){this.seletedItem=t},setStatus:function(t){return"single"==t?1!=this.seletedItem.length:"multi"==t?!(this.seletedItem.length>=1):"normal"!=t}}},r=l,c=a("2877"),d=Object(c["a"])(r,i,n,!1,null,null,null);e["default"]=d.exports},"1ac4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addOrModify"},[a("el-dialog",{attrs:{title:t.isAddOrMOdify?"库存新增":"详情页",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticStyle:{marginTop:"10px"}},[a("el-button",{attrs:{type:"danger",size:"mini",disabled:t.setStatus("multi")},on:{click:t.add}},[t._v("入库")])],1),t._v(" "),a("el-form",{ref:"applyRule",staticStyle:{marginTop:"10px"},attrs:{model:t.ruleForm,rules:t.rules}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.applyTableData,border:""},on:{"selection-change":t.handleSelectionChange}},[t.isAddOrMOdify?t._e():a("el-table-column",{attrs:{type:"selection",width:"70"}}),t._v(" "),t.isAddOrMOdify?a("el-table-column",{attrs:{type:"selection",width:"70"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"patentName",label:"二级分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unitName",label:"单位"}}),t._v(" "),t.isAddOrMOdify?a("el-table-column",{attrs:{prop:"applyTime",label:"申请日期"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"applyNumber",label:"申请数量"}})],1)],1),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.dialogFormVisible=!t.dialogFormVisible}}},[t._v("取消")])],1)],1)],1)},n=[],o=(a("ac6a"),{data:function(){return{totalMoney:0,applyTableData:[],isAddOrMOdify:"",dialogFormVisible:!1,formLabelWidth:"120",secondOptions:[],ruleForm:{applyNo:""},fixedData:{remark:""},rules:{},newId:0,seletedItem:[]}},watch:{applyTableData:{handler:function(t,e){var a=[],i=0;t.forEach(function(t){""!==t.applyNumber&&""!==t.unitPrice&&a.push(t)}),a.forEach(function(t){i+=t.applyNumber*t.unitPrice}),this.totalMoney=i},deep:!0}},methods:{showDialog:function(t,e){var a=this;this.dialogFormVisible=!this.dialogFormVisible,"111"===t?(this.ruleForm.applyNo=e,this.applyTableData=[],this.$store.dispatch("officeStock/officeStockModelList").then(function(t){a.applyTableData=t.data}),this.isAddOrMOdify=!0):"112"===t&&(this.applyTableData=e,this.isAddOrMOdify=!1)},del:function(t){var e=this;this.applyTableData.forEach(function(a,i){if(a.newId===t.newId)return e.applyTableData.splice(i,1),e.$message.success("已删除")})},add:function(){var t=this,e={};e.applyNo=this.ruleForm.applyNo,e.purchaseDTOS=this.seletedItem,this.$store.dispatch("officeStock/officeStockAdd",e).then(function(e){"0"===e.status&&(t.$message.success("入库成功!"),t.dialogFormVisible=!t.dialogFormVisible,t.$emit("getTableList"))})},handleSelectionChange:function(t){this.seletedItem=t},setStatus:function(t){return"single"==t?1!=this.seletedItem.length:"multi"==t?!(this.seletedItem.length>=1):"normal"!=t}}}),s=o,l=(a("8ffc"),a("2877")),r=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=r.exports},"8ffc":function(t,e,a){"use strict";var i=a("c182"),n=a.n(i);n.a},c182:function(t,e,a){},d37c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patentName",label:"办公用品类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"办公用品"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unitPrice",label:"单价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.unitPrice)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n         "+t._s(e.row.unit)+"\n        ("+t._s(e.row.unitName)+")\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"putInTime",label:"入库时间"}})],1),t._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":t.queryParams.currPage,background:"",small:"","page-sizes":[10,20,30,40],layout:" prev, pager, next,total,sizes ,jumper",total:t.totalPage},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1)},n=[],o={props:{queryParams:{type:Object,required:!0}},data:function(){return{tableData:[],totalPage:0}},mounted:function(){this.getTableList()},methods:{getTableList:function(){var t=this;this.$store.dispatch("officeStock/officeStockList",this.queryParams).then(function(e){t.tableData=e.data,t.totalPage=e.totalCount,t.$parent.allItem=t.totalPage})},handleSizeChange:function(t){this.queryParams.pageSize=t,this.getTableList()},handleCurrentChange:function(t){this.queryParams.currPage=t,this.getTableList()},handleSelectionChange:function(t){this.$emit("transferSelectItem",t)}}},s=o,l=a("2877"),r=Object(l["a"])(s,i,n,!1,null,null,null);e["default"]=r.exports}}]);